!function(t){function e(t){var e=t.changedTouches[0],i=document.createEvent("MouseEvent");i.initMouseEvent({touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"}[t.type],!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i)}var i={frames:10,cursor:"move",speed:0,entrance:!0,preloadImages:!0,touchSupport:!0,loading:"Loading..",autoPlay:!1};t.fn.preload=function(e){t("<div class='images_cache'></div>").hide().appendTo(e),this.each(function(){t("<img/>").attr("src",this).appendTo(".images_cache")})},t.fn.drags=function(e){var i=this;return i.css("cursor",e.cursor).on("mousedown",function(n){var a=t(this).addClass("draggable"),s=(n.pageX,{});a.parents().on("mousemove",function(n){if(t(".draggable").length>0){var a=i.find("img.main-frame").attr("src"),r=a.split("/")[a.split("/").length-1],o=r.split("_")[1].split(".")[0];if("undefined"!=typeof s.x){var l=s.x-n.clientX,c=s.y-n.clientY;Math.abs(l)>Math.abs(c)&&l>0?o>1?setTimeout(function(){var t=a.split("/")[a.split("/").length-1],e=a.split("/").slice(0,-1).join("/"),n=e+"/"+t.split("_")[0]+"_"+(parseInt(o)-1)+"."+t.split(".")[1];i.find("img.main-frame").attr("src",n)},e.speed):setTimeout(function(){var t=a.split("/")[a.split("/").length-1],n=a.split("/").slice(0,-1).join("/"),s=n+"/"+t.split("_")[0]+"_"+parseInt(e.frames)+"."+t.split(".")[1];i.find("img.main-frame").attr("src",s)},e.speed):Math.abs(l)>Math.abs(c)&&0>l&&(o<e.frames?setTimeout(function(){var t=a.split("/")[a.split("/").length-1],e=a.split("/").slice(0,-1).join("/"),n=e+"/"+t.split("_")[0]+"_"+(parseInt(o)+1)+"."+t.split(".")[1];i.find("img.main-frame").attr("src",n)},e.speed):setTimeout(function(){var t=a.split("/")[a.split("/").length-1],e=a.split("/").slice(0,-1).join("/"),n=e+"/"+t.split("_")[0]+"_1."+t.split(".")[1];i.find("img.main-frame").attr("src",n)},e.speed))}s={x:n.clientX,y:n.clientY}}t(".draggable").on("mouseup",function(){t(this).removeClass("draggable")})}),n.preventDefault()}).on("mouseup",function(){t(this).removeClass("draggable")})},t.fn.interactive_3d=function(n){function a(){var t=o.find("img.main-frame").attr("src");o.find("img.main-frame").css("opacity",x*step/100),cur_frame<r.frames?setTimeout(function(){var e=t.split("/")[t.split("/").length-1],i=t.split("/").slice(0,-1).join("/"),n=i+"/"+e.split("_")[0]+"_"+(parseInt(cur_frame)+1)+"."+e.split(".")[1];o.find("img.main-frame").attr("src",n),cur_frame=parseInt(cur_frame)+1},r.speed):setTimeout(function(){var e=t.split("/")[t.split("/").length-1],i=t.split("/").slice(0,-1).join("/"),n=i+"/"+e.split("_")[0]+"_1."+e.split(".")[1];o.find("img.main-frame").attr("src",n),cur_frame=1},r.speed),x++<r.frames-1&&(0!=r.autoPlay?setTimeout(a,0):setTimeout(a,1.5*x))}function s(){return window.setInterval(function(){a()},r.autoPlay)}var r=t.extend({},i,n),o=t(this);if(o.find(" > img").addClass("main-frame"),o.drags(r),x=0,step=100/parseInt(r.frames),cur_frame=o.find("img.main-frame").attr("src").split("_")[1].split(".")[0],1==r.entrance&&0==r.autoPlay&&0==r.loading&&0==r.autoPlay&&a(),1==r.touchSupport&&(document.addEventListener("touchstart",e,!0),document.addEventListener("touchmove",e,!0),document.addEventListener("touchend",e,!0),document.addEventListener("touchcancel",e,!0)),1==r.preloadImages){var l=o.find("img.main-frame").attr("src");arr=[];for(var c=1;c<r.frames+1;c++){var m=l.split("/")[l.split("/").length-1],d=l.split("/").slice(0,-1).join("/");arr.push(d+"/"+m.split("_")[0]+"_"+c+"."+m.split(".")[1])}if(t(arr).preload(o),0!=r.loading){var u=t(".images_cache > img").not(function(){return this.complete}),p=u.length;o.append("<div class='loading_3d'>"+r.loading+"</div>"),o.find(".main-frame").css("visibility","hidden"),p?u.load(function(){p--,p||(o.find(".main-frame").css("visibility","visible"),o.find(".loading_3d").remove(),0==r.autoPlay&&a())}):(o.find(".main-frame").css("visibility","visible"),o.find(".loading_3d").remove(),0==r.autoPlay&&a())}}if(0!=r.autoPlay){var f=s();o.mouseenter(function(){window.clearInterval(f)}).mouseleave(function(){f=s()})}}}(window.jQuery);
